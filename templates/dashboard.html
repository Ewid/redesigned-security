<!-- dashboard.html -->
{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h1>Movie Dashboard - Welcome {{ username|e }}!</h1>
<form method="POST" enctype="multipart/form-data" class="secure-form">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    
    <label for="movie_name">Movie Name:</label>
    <input type="text" id="movie_name" name="movie_name" required maxlength="255" pattern="[A-Za-z0-9\s\-:,.]+"
           title="Movie name can only contain letters, numbers, spaces, and basic punctuation">
    
    <label for="cast">Cast:</label>
    <input type="text" id="cast" name="cast" maxlength="255" pattern="[A-Za-z\s,.]+"
           title="Cast names can only contain letters, spaces, and commas">
    
    <label for="rating">Rating:</label>
    <input type="number" id="rating" name="rating" min="0" max="10" step="0.1">
    
    <label for="image">Upload Image:</label>
    <input type="file" id="image" name="image" accept="image/png,image/jpeg,image/gif" required>
    
    <button type="submit">Add Movie</button>
</form>

<h2>Movie List</h2>
<ul>
    {% for movie in movies %}
    <li>
        <img src="{{ url_for('static', filename='uploads/' + movie.image) }}" alt="Movie Image"